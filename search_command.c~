#include "shell.h"
/**
 *search_command - searches for a command in the directories
 *saved in PATH
 *@command: the command to search for
 *Return: the directory of the command/file
 */
char *search_command(char *command)
{
	char **dirs;

	DIR *d;
	struct dirent *dirent;

	if (!command)
		return (NULL);

	/*seperate the directories saved in PATH and save them in dirs*/
	dirs = _strtok(getenv("PATH"), ':');

	while (*dirs)
	{
		d = opendir(*dirs);
		if (!d)
		{
			perror("opendir");
			return (NULL);
		}
		else
		{
			while ((dirent = readdir(d)) != NULL)
			{
				if (strcmp(dirent->d_name, command) == 0)
				{
					closedir(d);
					free(*dirs);
					_strcat(*dirs, "/");
					return (_strcat(*dirs, command));
				}
			}
		}
		free(*dirs);
		dirs++;
	}
	return (NULL);
}
